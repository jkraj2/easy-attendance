{% extends "base.html" %}

{% block title %}Home - Attendance App{% endblock %}

{% block content %}
<h2>ðŸ“Œ Attendance Dashboard</h2>
<p>Use the menu to navigate: Mark Attendance, View Records, Global Records, or Add Users.</p>

<div class="d-flex gap-3 mt-4 flex-wrap">
  <div class="card p-3 text-center" style="width: 200px;">
    <h4>Total</h4>
    <p id="totalCount">0</p>
  </div>
  <div class="card p-3 text-center" style="width: 200px;">
    <h4>Present</h4>
    <p id="countPresent">0</p>
  </div>
  <div class="card p-3 text-center" style="width: 200px;">
    <h4>Absent</h4>
    <p id="countAbsent">0</p>
  </div>
  <div class="card p-3 text-center" style="width: 200px;">
    <h4>Half-Day</h4>
    <p id="countHalf">0</p>
  </div>
  <div class="card p-3 text-center" style="width: 200px;">
    <h4>PL/SL/Comp-Off</h4>
    <p id="countOther">0</p>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  // Load attendance summary from /all-records API
  fetch("/all-records")
    .then(res => res.text())  // This will render template, you can create API to return JSON
    .then(html => console.log("Dashboard loaded"))
    .catch(err => console.log("Error loading dashboard:", err));
</script>
{% endblock %}

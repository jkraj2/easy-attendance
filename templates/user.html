{% extends "base.html" %}
{% block title %}Add User{% endblock %}
{% block content %}
<center><h2>Add New User</h2></center>
<div class="card p-4 mb-4">
<label>Name</label><input id="name" class="form-control">
<label>Email</label><input id="email" class="form-control">
<label>Salary</label><input id="salary" type="number" class="form-control">
<label>Company</label><input id="company" class="form-control">
<button class="btn btn-primary mt-3 w-100" onclick="saveUser()">Save User</button>
</div>
<div id="successMsg" class="alert alert-success mt-3 d-none"></div>
<div id="errorMsg" class="alert alert-danger mt-3 d-none"></div>

<script>
function saveUser(){
    const data={
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        salary: document.getElementById("salary").value,
        company: document.getElementById("company").value
    };
    fetch("/save-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)})
    .then(res=>res.json()).then(d=>alert(d.message));
}
</script>
{% endblock %}

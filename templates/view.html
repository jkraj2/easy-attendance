{% extends "base.html" %}
{% block title %}View Attendance{% endblock %}
{% block content %}

<h3 class="text-center">Attendance Records</h3>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Date</th><th>Name</th><th>Status</th><th>Notes</th>
    </tr>
  </thead>
  <tbody id="tableBody"></tbody>
</table>

<script>
document.addEventListener("DOMContentLoaded", ()=>{
  const data = JSON.parse(localStorage.getItem("attendance")) || [];
  if(data.length === 0){
    tableBody.innerHTML = "<tr><td colspan='4'>No Data</td></tr>";
    return;
  }

  data.forEach(r=>{
    tableBody.innerHTML += `
      <tr>
        <td>${r.date}</td>
        <td>${r.name}</td>
        <td>${r.status}</td>
        <td>${r.note || "-"}</td>
      </tr>`;
  });
});
</script>

{% endblock %}
